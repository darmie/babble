;; hodor...

;;(
    hodor ho-
    DOR !
;;)

;; hodor hoDOR
hoDOR: test1 (
    hodor: add = (a, b) -> ( ;;
        a + b                ;; hodor hodor
    )                        ;;

    ;; hodor hodor, ho-dor.
    hodor: add2 = (a:int, b:int):int -> (
        a + b
    )

    ;; ho-dor
    ;; ho-ho-dor !
    hodor: adder = (a:int):(b:int):int -> (
        hodor! (b:int):int -> (
            a + b
        )
    )

    ;; hodor....
    hodor: fac2 = (n:int):int -> (
        hodor: result = 1
        hodor... n > 1 hodor; (
            ;; hodor ; hodor hodor :)
            result = result * n ; n = n - 1
        )
        hodor! result
    )

    ;; hodor.
    hodor: fac = (n:int):int -> (
        hodor? n < 2 hodor; (
            1
         ) ,hodor; (
            ;;(
                hodor HOOOODOR !
            ;;)

            n * HOOOODOR(n - 1)
         )
    )

    ;; hodor ho-dor ho. dor.
    hodor: HO_DOR = (a, f=(v) -> (v)) -> ( f(a) )

    ;; ho-dor ? hodor !
    hodor: counter = () -> (
        hodor: c = 0

        () -> (
            c = c + 1
        )
    )

    ;; hodor !
    hodor: counter2 = () -> (
        hodor! HO-DOR (
            hodor: v = 0
            hodor: inc = () -> (
                v = v + 1
            )
        )
    )
)

hodor: main = () -> (
    hodor: local = "hodor !"

    ;; hodor
    hodOOOR ("HODOR, ", local)

    ;; hodor, hodor, hodor !
    hodOOOR("0+1=", test1.add(0,1))
    ;; hodor !
    hodOOOR("1+2=", test1.add(a:1,b:2))
    ;; ho-dor, hodor.
    hodOOOR("2+3=", test1.add2(b:3,a:2))

    hodor: result = test1.adder(2)(2)

    hodor! "ok:" + result + ":" + test1.fac(5) + ":" + test1.fac2(6)
)

;; HO-dor
HODORRRR? (1 < 2, "Hodor hodor?")

HODORRRR? (test1.HO_DOR(1) == 1, "hodor hodor hodor !")
HODORRRR? (test1.HO_DOR(1, (v) -> (v+1)) == 2, "hodor hodor hodor !")

HODORRRR?("ok:4:120:720" == main(), "hodor, hodor hodor !")

;; hodor
hodor: c = test1.counter()
HODORRRR?(1 == c())
hodor: c2 = test1.counter()
HODORRRR?(2 == c())
HODORRRR?(1 == c2())
HODORRRR?(3 == c())

;; hodor hodor, hodor. HODOR !
c = test1.counter2()
HODORRRR?(1 == c.inc())
HODORRRR?(2 == c.inc())
HODORRRR?(3 == c.inc())

;; HO-DOR ! Ho-DOR !
hodor: list = java.util.ArrayList()
HODORRRR?(list.size() == 0)
